/* General body styles and transitions */
body {
    transition: background-color 0.3s, color 0.3s;
}

/* --- Flatpickr Base Styles (Overrides defaults for consistency) --- */
.flatpickr-calendar {
    font-family: 'Inter', sans-serif;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    border-radius: 0.5rem;
    padding: 1rem;
    z-index: 9999;
}

/* Global text color inheritance for Flatpickr elements */
.flatpickr-current-month .flatpickr-month,
.flatpickr-current-month .flatpickr-year,
.flatpickr-months .flatpickr-prev-month,
.flatpickr-months .flatpickr-next-month,
.flatpickr-weekday,
.flatpickr-day {
    color: inherit;
}

/* Selected and today's selected day styles */
.flatpickr-day.selected,
.flatpickr-day.today.selected {
    background: #3b82f6 !important;
    border-color: #3b82f6 !important;
    color: #ffffff !important;
}

/* Today's date visual indicator */
.flatpickr-day.today {
    border-color: #3b82f6 !important;
    color: #3b82f6;
}

/* --- Light Mode Specific Styles (Default) --- */
.flatpickr-calendar {
    background: #ffffff;
    border: 1px solid #e5e7eb;
}

.flatpickr-current-month .flatpickr-month,
.flatpickr-current-month .flatpickr-year,
.flatpickr-months .flatpickr-prev-month,
.flatpickr-months .flatpickr-next-month {
    color: #1f2937;
    fill: #1f2937;
}

.flatpickr-weekday {
    color: #4b5563;
}

.flatpickr-day {
    color: #1f2937;
}

.flatpickr-day:hover,
.flatpickr-day:focus {
    background: #f3f4f6 !important;
    color: #1f2937 !important;
}

.flatpickr-day.prevMonthDay,
.flatpickr-day.nextMonthDay,
.flatpickr-day.disabled {
    color: #9ca3af !important;
}

/* Time picker elements in light mode */
.flatpickr-time {
    color: #1f2937;
}
.numInputWrapper span.arrowUp:after,
.numInputWrapper span.arrowDown:after {
    border-top-color: #1f2937 !important;
    border-bottom-color: #1f2937 !important;
}


/* --- Dark Mode Specific Styles --- */
html.dark .flatpickr-calendar { 
    background: #374151;
    border: 1px solid #4b5563;
}

html.dark .flatpickr-current-month .flatpickr-month,
html.dark .flatpickr-current-month .flatpickr-year,
html.dark .flatpickr-months .flatpickr-prev-month,
html.dark .flatpickr-months .flatpickr-next-month {
    color: #ffffff;
    fill: #ffffff;
}

html.dark .flatpickr-weekday {
    color: #d1d5db;
}

html.dark .flatpickr-day {
    color: #ffffff;
}

html.dark .flatpickr-day:hover,
html.dark .flatpickr-day:focus {
    background: #4b5563 !important;
    color: #ffffff !important;
}

html.dark .flatpickr-day.prevMonthDay,
html.dark .flatpickr-day.nextMonthDay,
html.dark .flatpickr-day.disabled {
    color: #6b7280 !important;
}

/* Time picker elements in dark mode */
html.dark .flatpickr-time {
    color: #ffffff;
}
html.dark .numInputWrapper span.arrowUp:after,
html.dark .numInputWrapper span.arrowDown:after {
    border-top-color: #ffffff !important;
    border-bottom-color: #ffffff !important;
}

/* Calendar input field styling for both modes */
#calendarInput.form-control[readonly] {
    background-color: #ffffff; 
    border-color: #d1d5db;
    color: #1f2937;
}

html.dark #calendarInput.form-control[readonly] {
    background-color: #374151;
    border-color: #4b5563;
    color: #ffffff;
}